{
   "openapi":"3.0.5",
   "info":{
      "title":"O4S Tether™",
      "description":"Developer Documentation for O4S Tether™, an API for accessing the O4S Cloud Suite programmatically. Please note, up to version 1.0.0 APIs will receive updates frequently. Any breaking API changes will be relayed to all clients on a proactive basis.",
      "version":"0.3.2"
   },
   "servers":[
      {
         "url":"http://localhost:8000",
         "description":"local-dev-server"
      },
      {
         "url":"https://prod.o4s.io/mock-api",
         "description":"mock-api-server"
      },
      {
         "url":"https://stag.o4s.io/tether",
         "description":"staging-api-server"
      },
      {
         "url":"https://prod.o4s.io/tether",
         "description":"prod-api-server"
      }
   ],
   "tags":[
      {
         "name":"Dispatch Order",
         "description":"APIs to synchronize your Dispatch Orders with O4S Cloud."
      },
      {
         "name":"Production Order",
         "description":"APIs to synchronize your Production Orders with O4S Cloud."
      },
      {
         "name":"Facility",
         "description":"APIs to onboard your Supply Chain Facilities on the O4S Cloud."
      },
      {
         "name":"Generate UIDs",
         "description":"API to generate UIDs"
      },
      {
         "name":"Dispatch Products",
         "description":"API to dispatch products."
      },
      {
         "name":"Verify Linking Constraints",
         "description":"API to verify linking constraints."
      },
      {
         "name":"Linking Details",
         "description":"API to fetch linking details."
      }
   ],
   "paths":{
      "/dispatch-order":{
         "post":{
            "tags":[
               "Dispatch Order"
            ],
            "summary":"Add a new Dispatch Order",
            "description":"You can add a new Dispatch Order using this API",
            "operationId":"addDispatchOrder",
            "requestBody":{
               "description":"Dispatch Order that needs to be uploaded to O4S Cloud",
               "content":{
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/DispatchOrder"
                     }
                  }
               },
               "required":true
            },
            "responses":{
               "200":{
                  "description":"Success. New Dispatch Order was added",
                  "content":{
                     "application/json":{
                        "schema":{
                           "type":"object",
                           "required":[
                              "order"
                           ],
                           "properties":{
                              "order":{
                                 "type":"object",
                                 "required":[
                                    "uid"
                                 ],
                                 "properties":{
                                    "uid":{
                                       "type":"string",
                                       "example":"dispatch-order-uid"
                                    }
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      },
      "/dispatch-orders":{
         "get":{
            "tags":[
               "Dispatch Order"
            ],
            "summary":"Fetch Dispatch Orders",
            "description":"You can fetch Dispatch Orders created in queried time-range",
            "operationId":"getDispatchOrders",
            "parameters":[
               {
                  "$ref":"#/components/parameters/startTime"
               },
               {
                  "$ref":"#/components/parameters/endTime"
               },
               {
                  "$ref":"#/components/parameters/pageSize"
               },
               {
                  "$ref":"#/components/parameters/pageNumber"
               }
            ],
            "responses":{
               "200":{
                  "description":"List of Dispatch Orders in queried time-range",
                  "content":{
                     "application/json":{
                        "schema":{
                           "type":"object",
                           "properties":{
                              "orders":{
                                 "type":"array",
                                 "items":{
                                    "$ref":"#/components/schemas/DispatchOrderWithStatus"
                                 }
                              },
                              "next":{
                                 "$ref":"#/components/schemas/Pagination",
                                 "example":{
                                    "pageNumber":2,
                                    "pageSize":10
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      },
      "/production-order":{
         "post":{
            "tags":[
               "Production Order"
            ],
            "summary":"Add a new Production Order.",
            "description":"You can add a new Production Order using this API.",
            "operationId":"addProductionOrder",
            "requestBody":{
               "description":"Production Order that needs to be uploaded to O4S Cloud.",
               "content":{
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/ProductionOrder"
                     }
                  }
               },
               "required":true
            },
            "responses":{
               "200":{
                  "description":"Success. New Production Order was added.",
                  "content":{
                     "application/json":{
                        "schema":{
                           "type":"object",
                           "required":[
                              "order"
                           ],
                           "properties":{
                              "order":{
                                 "type":"object",
                                 "required":[
                                    "uid"
                                 ],
                                 "properties":{
                                    "uid":{
                                       "type":"string"
                                    }
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      },
      "/production-orders":{
         "get":{
            "tags":[
               "Production Order"
            ],
            "summary":"Fetch Production Orders",
            "description":"You can fetch Production Orders created in queried time-range",
            "operationId":"getProductionOrders",
            "parameters":[
               {
                  "$ref":"#/components/parameters/startTime"
               },
               {
                  "$ref":"#/components/parameters/endTime"
               },
               {
                  "$ref":"#/components/parameters/pageSize"
               },
               {
                  "$ref":"#/components/parameters/pageNumber"
               }
            ],
            "responses":{
               "200":{
                  "description":"List of Production Orders in queried time-range",
                  "content":{
                     "application/json":{
                        "schema":{
                           "type":"object",
                           "required":[
                              "orders"
                           ],
                           "properties":{
                              "orders":{
                                 "type":"array",
                                 "items":{
                                    "$ref":"#/components/schemas/ProductionOrderWithStatus"
                                 }
                              },
                              "next":{
                                 "$ref":"#/components/schemas/Pagination",
                                 "example":{
                                    "pageNumber":2,
                                    "pageSize":10
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      },
      "/facility-with-user":{
         "post":{
            "tags":[
               "Facility"
            ],
            "summary":"Add new Facility",
            "description":"Add a new facility to your Supply Chain Network",
            "operationId":"addFacility",
            "requestBody":{
               "description":"Provide Facility info along with User info for the POC at facility. It is recommended that you provide facility's `gstin` wherever possible.",
               "content":{
                  "application/json":{
                     "schema":{
                        "type":"object",
                        "required":[
                           "facility",
                           "poc"
                        ],
                        "properties":{
                           "facility":{
                              "$ref":"#/components/schemas/Facility"
                           },
                           "poc":{
                              "$ref":"#/components/schemas/User"
                           }
                        }
                     }
                  }
               },
               "required":true
            },
            "responses":{
               "200":{
                  "description":"Ok",
                  "content":{
                     "application/json":{
                        "schema":{
                           "type":"object",
                           "required":[
                              "facilityUid",
                              "userUid"
                           ],
                           "properties":{
                              "facilityUid":{
                                 "type":"string",
                                 "example":"factory-unique-id"
                              },
                              "userUid":{
                                 "type":"string",
                                 "example":"user-unique-id"
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      },
      "/sku":{
         "post":{
            "tags":[
               "SKU"
            ],
            "summary":"Create or update SKU",
            "description":"Add a new SKU to your product roster",
            "operationId":"addSku",
            "requestBody":{
               "description":"Essential Details of the SKU",
               "content":{
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/Sku"
                     }
                  }
               },
               "required":true
            },
            "responses":{
               "200":{
                  "description":"Ok",
                  "content":{
                     "application/json":{
                        "schema":{
                           "type":"object",
                           "properties":{
                              "uid":{
                                 "type":"string",
                                 "example":"sku-code"
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      },
      "/add-products":{
         "post":{
            "tags":[
               "Generate UIDs"
            ],
            "summary":"Generate UIDs using skuUid.",
            "description":"API to generate UIDs by volume and skuUid",
            "operationId":"addProducts",
            "requestBody":{
               "content":{
                  "application/json":{
                     "schema":{
                        "type":"object",
                        "required":[
                           "volume",
                           "sku"
                        ],
                        "properties":{
                           "volume":{
                              "type":"integer",
                              "description":"Volume of UIDs to be generated.",
                              "example":50,
                              "maximum":1000
                           },
                           "sku":{
                              "type":"object",
                              "properties":{
                                 "uid":{
                                    "type":"string",
                                    "example":"10k-okra-seed",
                                    "maxLength":64
                                 }
                              }
                           },
                           "activation":{
                              "type":"object",
                              "properties":{
                                 "mfd":{
                                    "type":"integer",
                                    "example":1599064881000,
                                    "description":"Manufacturing timestamp in-case products are not activated explicitly later."
                                 },
                                 "expiry":{
                                    "type":"integer",
                                    "example":1608811919000,
                                    "description":"Expiry timestamp if any."
                                 },
                                 "batchId":{
                                    "type":"string",
                                    "example":"batch-101"
                                 }
                              }
                           }
                        }
                     }
                  }
               },
               "required":true
            },
            "responses":{
               "200":{
                  "description":"Success.",
                  "content":{
                     "application/json":{
                        "schema":{
                           "type":"object",
                           "required":[
                              "products"
                           ],
                           "properties":{
                              "products":{
                                 "type":"array",
                                 "items":{
                                    "type":"object",
                                    "required":[
                                       "numericCode",
                                       "qrcodeData",
                                       "serialNo"
                                    ],
                                    "properties":{
                                       "numericCode":{
                                          "type":"string",
                                          "example":"21982373894"
                                       },
                                       "qrcodeData":{
                                          "type":"string",
                                          "example":"stag.o4s.in/21j.2uqW0j"
                                       },
                                       "serialNo":{
                                          "type":"string",
                                          "example":"99299212366816"
                                       }
                                    }
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      },
      "/add-products-with-sku":{
         "post":{
            "tags":[
               "Generate UIDs"
            ],
            "summary":"Generate UIDs",
            "description":"API to generate UIDs by volume and sku. SKU is created if not registered.",
            "operationId":"addProductsWithSku",
            "requestBody":{
               "content":{
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/GenerateUIDs"
                     }
                  }
               },
               "required":true
            },
            "responses":{
               "200":{
                  "description":"Success.",
                  "content":{
                     "application/json":{
                        "schema":{
                           "type":"array",
                           "items":{
                              "type":"object",
                              "required":[
                                 "numericCode",
                                 "qrcodeData",
                                 "serialNo"
                              ],
                              "properties":{
                                 "numericCode":{
                                    "type":"string",
                                    "example":"21982373894"
                                 },
                                 "qrcodeData":{
                                    "type":"string",
                                    "example":"stag.o4s.in/21j.2uqW0j"
                                 },
                                 "serialNo":{
                                    "type":"string",
                                    "example":"99299212366816"
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      },
      "/dispatch-products":{
         "post":{
            "tags":[
               "Dispatch Products"
            ],
            "summary":"Dispatch Products down the supply chain",
            "description":"You can use this API to dispatch products to users down the supply chain",
            "operationId":"dispatchProducts",
            "requestBody":{
               "content":{
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/DispatchProducts"
                     }
                  }
               },
               "required":true
            },
            "responses":{
               "200":{
                  "description":"Success. Products were dispatched successfully",
                  "content":{
                     "application/json":{
                        "schema":{
                           "type":"object",
                           "required":[
                              "missing"
                           ],
                           "properties":{
                              "missing":{
                                 "type":"array",
                                 "items":{
                                    "type":"string",
                                    "example":"99199114690028"
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      },
      "/verify-hierarchy-constraints":{
         "post":{
            "tags":[
               "Verify Linking Constraints"
            ],
            "summary":"API to verify linking constraints.",
            "description":"",
            "operationId":"verifyConstraints",
            "requestBody":{
               "content":{
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/VerifyLinkingConstraint"
                     }
                  }
               },
               "required":true
            },
            "responses":{
               "200":{
                  "description":"Success.",
                  "content":{
                     "application/json":{
                        "schema":{
                           "type":"object",
                           "required":[
                              "failed",
                              "missing",
                              "badIds"
                           ],
                           "properties":{
                              "failed":{
                                 "type":"array",
                                 "items":{
                                    "type":"object",
                                    "properties":{
                                       "productCode":{
                                          "type":"string",
                                          "example":"https://o4s.in/v/g/1.2.E_kApe.K"
                                       },
                                       "violations":{
                                          "type":"array",
                                          "items":{
                                             "type":"object",
                                             "properties":{
                                                "productCode":{
                                                   "type":"string",
                                                   "example":"https://o4s.in/v/g/1.2.E_kApe.K"
                                                },
                                                "type":{
                                                   "type":"string",
                                                   "example":"QTY_PER_SKU"
                                                },
                                                "expect":{
                                                   "type":"array",
                                                   "items":{
                                                      "type":"object",
                                                      "properties":{
                                                         "skuCode":{
                                                            "type":"string",
                                                            "example":"sku123"
                                                         },
                                                         "min":{
                                                            "type":"integer",
                                                            "example":2
                                                         },
                                                         "max":{
                                                            "type":"integer",
                                                            "example":2
                                                         }
                                                      }
                                                   }
                                                },
                                                "reasons":{
                                                   "type":"array",
                                                   "items":{
                                                      "type":"object",
                                                      "properties":{
                                                         "skuCode":{
                                                            "type":"string",
                                                            "example":"sku123"
                                                         },
                                                         "short":{
                                                            "type":"integer",
                                                            "example":1
                                                         },
                                                         "long":{
                                                            "type":"integer",
                                                            "example":1
                                                         }
                                                      }
                                                   }
                                                }
                                             }
                                          }
                                       }
                                    }
                                 }
                              },
                              "missing":{
                                 "type":"array",
                                 "items":{
                                    "type":"string",
                                    "example":"https://o4s.in/v/g/1.2.E_KAre.K"
                                 }
                              },
                              "badIds":{
                                 "type":"array",
                                 "items":{
                                    "type":"string",
                                    "example":"https://o4s.in/v/g/1.2.E_KAre.K"
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      },
      "/linking-details":{
         "post":{
            "tags":[
               "Linking Details"
            ],
            "summary":"Get all linked parent-child details",
            "description":"You can use this API to fetch the linking details for the specified products",
            "operationId":"linkingDetails",
            "requestBody":{
               "content":{
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/LinkingDetails"
                     }
                  }
               },
               "required":true
            },
            "responses":{
               "200":{
                  "description":"Success.",
                  "content":{
                     "application/json":{
                        "schema":{
                           "type":"object",
                           "required":[
                              "found",
                              "missing",
                              "noChildren"
                           ],
                           "properties":{
                              "found":{
                                 "type":"array",
                                 "items":{
                                    "type":"object",
                                    "properties":{
                                       "productId":{
                                          "type":"number",
                                          "example":1920883912
                                       },
                                       "serialNo":{
                                          "type":"number",
                                          "example":99110281910201
                                       },
                                       "encoding":{
                                          "type":"string",
                                          "example":"https://stag.o4s.in/v/g/1.2.E_XLre.Z"
                                       },
                                       "children":{
                                          "type":"array",
                                          "items":{
                                             "type":"object",
                                             "properties":{
                                                "children":{
                                                   "type":"array",
                                                   "items":{
                                                      "type":"string",
                                                      "example":"19283791920"
                                                   }
                                                },
                                                "encoding":{
                                                   "type":"string",
                                                   "example":"https://stag.o4s.in/v/g/1.2.E_XLre.Z"
                                                },
                                                "dispatchDetails":{
                                                   "type":"object",
                                                   "properties":{
                                                      "name":{
                                                         "type":"string",
                                                         "example":"dummy user"
                                                      },
                                                      "type":{
                                                         "type":"string",
                                                         "example":"DISTRIBUTOR"
                                                      },
                                                      "phoneNumber":{
                                                         "type":"string",
                                                         "example":"+9198162738111"
                                                      },
                                                      "dispatchTime":{
                                                         "type":"integer",
                                                         "example":1562739102991000
                                                      }
                                                   }
                                                },
                                                "sku":{
                                                   "type":"object",
                                                   "properties":{
                                                      "name":{
                                                         "type":"string",
                                                         "example":"Primary pack"
                                                      },
                                                      "code":{
                                                         "type":"string",
                                                         "example":"primary-pack"
                                                      },
                                                      "packagingLevel":{
                                                         "type":"number",
                                                         "example":1
                                                      }
                                                   }
                                                },
                                                "plantDetails":{
                                                   "type":"object",
                                                   "properties":{
                                                      "uid":{
                                                         "type":"string",
                                                         "example":"askdjlak-121jk2-askdkd"
                                                      },
                                                      "name":{
                                                         "type":"string",
                                                         "example":"Plant A"
                                                      }
                                                   }
                                                },
                                                "mfd":{
                                                   "type":"number",
                                                   "example":1619520136000
                                                },
                                                "packagingLevel":{
                                                   "type":"number",
                                                   "example":1
                                                },
                                                "productId":{
                                                   "type":"number",
                                                   "example":129809231919
                                                },
                                                "serialNo":{
                                                   "type":"number",
                                                   "example":99199114808739
                                                },
                                                "parent":{
                                                   "type":"number",
                                                   "example":123920801953
                                                }
                                             }
                                          }
                                       }
                                    }
                                 }
                              },
                              "missing":{
                                 "type":"array",
                                 "items":{
                                    "type":"string",
                                    "example":"99199114690028"
                                 }
                              },
                              "noChildren":{
                                 "type":"array",
                                 "items":{
                                    "type":"object",
                                    "properties":{
                                       "productId":{
                                          "type":"number",
                                          "example":1920883912
                                       },
                                       "serialNo":{
                                          "type":"number",
                                          "example":99110281910201
                                       },
                                       "encoding":{
                                          "type":"string",
                                          "example":"https://stag.o4s.in/v/g/1.2.E_XLre.Z"
                                       },
                                       "children":{
                                          "type":"array",
                                          "items":{
                                             "type":"object",
                                             "properties":{
                                                "children":{
                                                   "type":"array",
                                                   "items":{
                                                      "type":"string",
                                                      "example":"19283791920"
                                                   }
                                                },
                                                "encoding":{
                                                   "type":"string",
                                                   "example":"https://stag.o4s.in/v/g/1.2.E_XLre.Z"
                                                },
                                                "dispatchDetails":{
                                                   "type":"object",
                                                   "properties":{
                                                      "name":{
                                                         "type":"string",
                                                         "example":"dummy user"
                                                      },
                                                      "type":{
                                                         "type":"string",
                                                         "example":"DISTRIBUTOR"
                                                      },
                                                      "phoneNumber":{
                                                         "type":"string",
                                                         "example":"+9198162738111"
                                                      },
                                                      "dispatchTime":{
                                                         "type":"integer",
                                                         "example":1562739102991000
                                                      }
                                                   }
                                                },
                                                "sku":{
                                                   "type":"object",
                                                   "properties":{
                                                      "name":{
                                                         "type":"string",
                                                         "example":"Primary pack"
                                                      },
                                                      "code":{
                                                         "type":"string",
                                                         "example":"primary-pack"
                                                      },
                                                      "packagingLevel":{
                                                         "type":"number",
                                                         "example":1
                                                      }
                                                   }
                                                },
                                                "plantDetails":{
                                                   "type":"object",
                                                   "properties":{
                                                      "uid":{
                                                         "type":"string",
                                                         "example":"askdjlak-121jk2-askdkd"
                                                      },
                                                      "name":{
                                                         "type":"string",
                                                         "example":"Plant A"
                                                      }
                                                   }
                                                },
                                                "mfd":{
                                                   "type":"number",
                                                   "example":1619520136000
                                                },
                                                "packagingLevel":{
                                                   "type":"number",
                                                   "example":1
                                                },
                                                "productId":{
                                                   "type":"number",
                                                   "example":129809231919
                                                },
                                                "serialNo":{
                                                   "type":"number",
                                                   "example":99199114808739
                                                },
                                                "parent":{
                                                   "type":"number",
                                                   "example":123920801953
                                                }
                                             }
                                          }
                                       }
                                    }
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      }
   },
   "components":{
      "schemas":{
         "DispatchOrder":{
            "type":"object",
            "required":[
               "uid",
               "createdOn",
               "items",
               "shipFromFacilityId",
               "shipToFacilityId"
            ],
            "properties":{
               "uid":{
                  "type":"string",
                  "example":"erpId1234",
                  "description":"Unique identifier for Dispatch Order"
               },
               "createdOn":{
                  "type":"integer",
                  "example":1599064881000,
                  "description":"Creation timestamp in milliseconds from epoch."
               },
               "items":{
                  "type":"array",
                  "items":{
                     "$ref":"#/components/schemas/OrderItem"
                  }
               },
               "shipFromFacilityId":{
                  "type":"string"
               },
               "shipToFacilityId":{
                  "type":"string"
               }
            }
         },
         "OrderItem":{
            "type":"object",
            "required":[
               "skuCode",
               "batchId",
               "quantity"
            ],
            "properties":{
               "skuCode":{
                  "type":"string",
                  "description":"Unique identifier for SKU (as registered with O4S)",
                  "example":"FLIP-LED-10W"
               },
               "batchId":{
                  "type":"string",
                  "example":"batch-01-01-2020"
               },
               "quantity":{
                  "type":"number",
                  "example":12
               }
            }
         },
         "ProductionOrder":{
            "required":[
               "uid",
               "createdOn",
               "facilityId",
               "items"
            ],
            "properties":{
               "uid":{
                  "type":"string",
                  "description":"Unique identifier for Production Order",
                  "example":"po-uid-1"
               },
               "createdOn":{
                  "type":"integer",
                  "description":"Creation timestamp in milliseconds from Epoch.",
                  "example":1599064881000
               },
               "facilityId":{
                  "type":"string",
                  "description":"Unique identifier of Facility which is to process this order. Facility must be on-boarded on O4S Cloud in advance.",
                  "example":"factory-uid"
               },
               "items":{
                  "type":"array",
                  "items":{
                     "$ref":"#/components/schemas/OrderItem"
                  }
               }
            }
         },
         "ProductionOrderWithStatus":{
            "allOf":[
               {
                  "$ref":"#/components/schemas/ProductionOrder"
               }
            ],
            "type":"object",
            "required":[
               "status"
            ],
            "properties":{
               "status":{
                  "type":"string",
                  "enum":[
                     "pending",
                     "in-progress",
                     "done",
                     "paused",
                     "aborted"
                  ],
                  "example":"pending"
               }
            }
         },
         "DispatchOrderWithStatus":{
            "allOf":[
               {
                  "$ref":"#/components/schemas/DispatchOrder"
               }
            ],
            "type":"object",
            "required":[
               "status"
            ],
            "properties":{
               "status":{
                  "type":"string",
                  "enum":[
                     "pending",
                     "in-progress",
                     "ready",
                     "done",
                     "paused",
                     "aborted"
                  ],
                  "example":"pending"
               }
            }
         },
         "Facility":{
            "required":[
               "uid",
               "name",
               "address"
            ],
            "properties":{
               "uid":{
                  "type":"string",
                  "description":"Identifier that uniquely identifies a facility.",
                  "example":"plant-uid"
               },
               "name":{
                  "type":"string",
                  "description":"Human readable name for facility.",
                  "example":"Salt Manufacturing Plant - Chennai"
               },
               "gstin":{
                  "type":"string",
                  "description":"the GSTIN of the facility."
               },
               "address":{
                  "type":"object",
                  "required":[
                     "line1",
                     "city",
                     "state",
                     "country",
                     "pincode"
                  ],
                  "properties":{
                     "line1":{
                        "type":"string",
                        "example":"192 P Block"
                     },
                     "line2":{
                        "type":"string",
                        "example":"Sector 31"
                     },
                     "city":{
                        "type":"string",
                        "example":"Noida"
                     },
                     "state":{
                        "type":"string",
                        "example":"Uttar Pradesh"
                     },
                     "country":{
                        "type":"string",
                        "example":"India"
                     },
                     "pincode":{
                        "type":"string",
                        "example":"201301"
                     }
                  }
               },
               "tags":{
                  "type":"array",
                  "items":{
                     "type":"string"
                  },
                  "example":[
                     "warehouse",
                     "temp-control"
                  ],
                  "description":"Optionally assign tags to allow easy classification. Tags should be in kebab-case."
               }
            }
         },
         "User":{
            "required":[
               "name",
               "phone"
            ],
            "properties":{
               "name":{
                  "type":"string",
                  "maxLength":64
               },
               "email":{
                  "type":"string"
               },
               "phone":{
                  "type":"object",
                  "required":[
                     "countryCode",
                     "number"
                  ],
                  "properties":{
                     "countryCode":{
                        "type":"string",
                        "maxLength":5,
                        "description":"Dialing code for the country the user is in.",
                        "example":"+91"
                     },
                     "number":{
                        "type":"string",
                        "maxLength":10,
                        "example":"7712883138",
                        "description":"10 digit mobile number of the user"
                     }
                  }
               },
               "tags":{
                  "type":"array",
                  "items":{
                     "type":"string"
                  },
                  "example":[
                     "warehouse-manager"
                  ],
                  "description":"Optionally assign tags to allow easy classification. Tags should be in kebab-case"
               }
            }
         },
         "Sku":{
            "required":[
               "packagingLevel",
               "uid",
               "name"
            ],
            "properties":{
               "packagingLevel":{
                  "type":"integer",
                  "example":1,
                  "minimum":1,
                  "maximum":5
               },
               "uid":{
                  "type":"string",
                  "example":"10k-okra-seed",
                  "maxLength":64
               },
               "name":{
                  "type":"string",
                  "example":"Premium Okra 10kg"
               },
               "description":{
                  "type":"string",
                  "example":"High yield Premium Okra Seeds."
               },
               "magnitude":{
                  "type":"number",
                  "example":10
               },
               "unit":{
                  "type":"string",
                  "example":"kg"
               },
               "defaultMrp":{
                  "type":"number",
                  "description":"If MRP is not provided at the time of product activation this value is used as a fallback.",
                  "example":399.5
               },
               "constraints":{
                  "type":"array",
                  "items":{
                     "type":"object",
                     "properties":{
                        "type":{
                           "type":"string",
                           "example":"QTY_PER_SKU"
                        },
                        "expect":{
                           "type":"array",
                           "items":{
                              "type":"object",
                              "properties":{
                                 "skuCode":{
                                    "type":"string",
                                    "example":"sku1"
                                 },
                                 "min":{
                                    "type":"integer",
                                    "example":10
                                 },
                                 "max":{
                                    "type":"integer",
                                    "example":15
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            }
         },
         "GenerateUIDs":{
            "type":"object",
            "required":[
               "volume",
               "sku"
            ],
            "properties":{
               "volume":{
                  "type":"integer",
                  "description":"Volume of UIDs to be generated.",
                  "example":50,
                  "maximum":1000
               },
               "sku":{
                  "type":"object",
                  "allOf":[
                     {
                        "$ref":"#/components/schemas/Sku"
                     }
                  ]
               },
               "activation":{
                  "type":"object",
                  "properties":{
                     "mfd":{
                        "type":"integer",
                        "example":1599064881000,
                        "description":"Manufacturing timestamp in-case products are not activated explicitly later."
                     },
                     "expiry":{
                        "type":"integer",
                        "example":1608811919000,
                        "description":"Expiry timestamp if any."
                     },
                     "batchId":{
                        "type":"string",
                        "example":"batch-101"
                     }
                  }
               }
            }
         },
         "DispatchProducts":{
            "type":"object",
            "required":[
               "invoiceStub",
               "products",
               "productIdentifierType"
            ],
            "properties":{
               "invoiceStub":{
                  "type":"string",
                  "example":"InvoiceID123~~+91986161234",
                  "description":"A combination of the invoiceId and the user identifier combined by ~~ in between. User identifier can be one of phoneNumber, gstin or any other custom id."
               },
               "products":{
                  "type":"array",
                  "items":{
                     "type":"string"
                  },
                  "example":[
                     "99199114690024",
                     "99199114690028"
                  ],
                  "description":"List of products to be dispatched."
               },
               "productIdentifierType":{
                  "type":"string",
                  "example":"SERIAL_NO",
                  "description":"Value should be one of SERIAL_NO, ENCODING or PID."
               },
               "transferToType":{
                  "type":"string",
                  "example":"DISTRIBUTOR",
                  "description":"Type of user to whom the products are to be dispatched to. Defaults to DISTRIBUTOR if not provided."
               },
               "timestamp":{
                  "type":"integer",
                  "example":1599064881000,
                  "description":"Dispatch timestamp in milliseconds"
               }
            }
         },
         "VerifyLinkingConstraint":{
            "type":"object",
            "required":[
               "productCodes"
            ],
            "properties":{
               "productCodes":{
                  "type":"array",
                  "items":{
                     "type":"string"
                  },
                  "example":[
                     "https://o4s.in/v/g/1.2.E_KAre.K",
                     "https://o4s.in/v/g/1.2.E_LJac.K"
                  ],
                  "description":"List of products to be verified."
               }
            }
         },
         "LinkingDetails":{
            "type":"object",
            "required":[
               "products",
               "productIdentifierType"
            ],
            "properties":{
               "products":{
                  "type":"array",
                  "items":{
                     "type":"string"
                  },
                  "example":[
                     "99199114690024",
                     "99199114690028"
                  ],
                  "description":"List of products to be dispatched."
               },
               "productIdentifierType":{
                  "type":"string",
                  "example":"SERIAL_NO",
                  "description":"Value should be one of SERIAL_NO, ENCODING or PID."
               }
            }
         },
         "Pagination":{
            "required":[
               "pageNumber",
               "pageSize"
            ],
            "properties":{
               "pageNumber":{
                  "type":"integer",
                  "example":2,
                  "minimum":0
               },
               "pageSize":{
                  "type":"integer",
                  "minimum":1,
                  "example":10,
                  "maximum":100
               }
            }
         }
      },
      "securitySchemes":{
         "AuthToken":{
            "type":"apiKey",
            "in":"header",
            "name":"AuthToken",
            "description":"All requests must include the `authToken` header containing your Authorization Token"
         }
      },
      "parameters":{
         "startTime":{
            "in":"query",
            "schema":{
               "type":"integer"
            },
            "name":"start",
            "example":"1599064881000",
            "required":true,
            "description":"Starting timestamp in milliseconds from epoch."
         },
         "endTime":{
            "in":"query",
            "schema":{
               "type":"integer"
            },
            "name":"end",
            "example":"1599064881000",
            "required":true,
            "description":"Starting timestamp in milliseconds from epoch. Should always be higher than startTime."
         },
         "pageSize":{
            "in":"query",
            "schema":{
               "type":"integer",
               "maximum":100,
               "minimum":1
            },
            "name":"pageSize",
            "example":50,
            "required":true,
            "description":"In a paginated API this determines the number of documents returned per page."
         },
         "pageNumber":{
            "in":"query",
            "schema":{
               "type":"integer",
               "minimum":0
            },
            "name":"pageNumber",
            "example":2,
            "required":true,
            "description":"In a paginated API this determines which page you are currently fetching (as per the page size you have set)"
         }
      }
   },
   "security":[
      {
         "AuthToken":[
            
         ]
      }
   ]
}